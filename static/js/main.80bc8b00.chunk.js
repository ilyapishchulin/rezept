(this.webpackJsonprezept_app=this.webpackJsonprezept_app||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),l=a.n(i),c=a(16),o=a.n(c),s=a(19),u=a.n(s),p=a(23),h=a(18),d=a(36),m=a(37),g=a(57),f=a(38),E=a(17),_=a(58),y=a(1),b=(a(35),a(48)),v=a.n(b),S=a(49),C=a.n(S),k=a(25),w=a.n(k),j=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,{left:r.a.createElement(y.l,{onClick:function(){return a.setState({activePanel:"category",history:[].concat(Object(h.a)(a.state.history),["category"])})}},r.a.createElement(C.a,null))},"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"),r.a.createElement(y.t,{maxLength:"30",value:a.state.search,onChange:function(e){return a.onChange(e)}}),r.a.createElement(y.d,{component:"a",target:"_blank",href:"https://vk.com/covid19",size:"l",before:r.a.createElement(y.b,{style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%3E%3Cpath%20fill%3D%22%234bb34b%22%20d%3D%22M0%200h64v64H0z%22%2F%3E%3Cpath%20d%3D%22M17.21%2017l12.12-4.07a11.49%2011.49%200%20012-.55%205%205%200%20011.34%200%2011.49%2011.49%200%20012%20.55L46.79%2017A1.78%201.78%200%200148%2018.64v16.59q0%2012-14.6%2018.2a3.58%203.58%200%2001-2.8%200Q16%2047.19%2016%2035.23V18.64A1.78%201.78%200%200117.21%2017z%22%20fill-rule%3D%22evenodd%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M32.72%2024.34a1%201%200%2000-1.45%200l-7.66%208c-.34.35-.22.64.27.64H26v5.55a.44.44%200%2000.44.45h3.12a.44.44%200%2000.44-.44v-2.76A1.78%201.78%200%200131.78%2034h.44A1.78%201.78%200%200134%2035.78v2.78a.44.44%200%2000.44.44h3.12a.45.45%200%2000.44-.45V33h2.12c.48%200%20.6-.29.27-.64z%22%20fill-rule%3D%22evenodd%22%20fill%3D%22%234bb34b%22%2F%3E%3C%2Fsvg%3E')",marginTop:"5px",marginLeft:"5px"},size:55})},r.a.createElement("div",{style:{marginTop:"10px",fontWeight:"900"}},"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043e Covid-19"),r.a.createElement("div",{style:{color:"gray",whiteSpace:"pre-wrap"}},"#stayhome")),a.state.subscriber?null:r.a.createElement(y.k,null,r.a.createElement(y.d,{description:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",bottomContent:r.a.createElement(y.c,{before:r.a.createElement(w.a,null),onClick:function(){return a.Subscribe()}},"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c"),before:r.a.createElement(y.b,{src:"https://sun9-3.userapi.com/c855428/v855428157/1874e1/TCZ8G7ZYv8o.jpg"}),size:"l"},"Xelene Studio")),r.a.createElement(y.k,null,r.a.createElement(y.p,null,a.recipes.length>0&&a.recipes.map((function(e,t){return r.a.createElement(y.d,{expandable:!0,key:t,onClick:function(){a.GetRecipesInfo(e.id)}},e.name)})),0===a.recipes.length&&r.a.createElement(y.d,{style:{userSelect:"none"},onClick:function(){return v.a.init()}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))))},A=a(20),x=a.n(A),z=a(21),O=a.n(z),R=a(30),P=a.n(R),T=a(31),V=a.n(T),B=a(26),L=a.n(B),W=a(32),D=a.n(W),G=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,{left:r.a.createElement(y.l,{onClick:function(){return a.goBack()}},Object(y.z)()===y.m?r.a.createElement(O.a,null):r.a.createElement(x.a,null))},a.state.recipes_info_full.name),r.a.createElement(y.k,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},r.a.createElement(y.p,null,0===a.state.recipes_info_full.information.rating?null:r.a.createElement(y.d,{style:{userSelect:"none"},before:r.a.createElement(P.a,{fill:"#ffa500"}),indicator:a.state.recipes_info_full.information.rating},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),r.a.createElement(y.d,{style:{userSelect:"none"},before:r.a.createElement(V.a,{fill:"#4bb34b"}),indicator:r.a.createElement(y.o,{component:"a",target:"_blank",href:"https://vk.com/id"+a.state.recipes_info_full.information.author_id},a.state.recipes_info_full.information.author_name)},"\u0410\u0432\u0442\u043e\u0440"),"0"===a.state.recipes_info_full.information.time_for_preparing?null:r.a.createElement(y.d,{style:{userSelect:"none"},before:r.a.createElement(L.a,{fill:"#4bb34b"}),indicator:a.state.recipes_info_full.information.time_for_preparing},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"))),r.a.createElement(y.k,{title:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b:"},r.a.createElement(y.g,null,r.a.createElement("div",{style:{whiteSpace:"pre-wrap",userSelect:"none"}},a.state.recipes_info_full.information.ingredients))),r.a.createElement(y.k,{title:"\u0420\u0435\u0446\u0435\u043f\u0442:"},r.a.createElement(y.g,null,r.a.createElement("div",{style:{whiteSpace:"pre-wrap",userSelect:"none"}},a.state.recipes_info_full.information.recipe))),r.a.createElement(y.g,null,r.a.createElement(y.c,{before:r.a.createElement(D.a,null),size:"xl",level:"secondary",onClick:function(){return a.Share()}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u043c")))},I=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,{left:r.a.createElement(y.l,{onClick:function(){return a.goBack()}},Object(y.z)()===y.m?r.a.createElement(O.a,null):r.a.createElement(x.a,null))},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(y.t,{maxLength:"25",value:a.state.search_category,onChange:function(e){return a.onChangeCategory(e.currentTarget.value)}}),r.a.createElement(y.k,null,r.a.createElement(y.p,null,a.category.length>0&&a.category.map((function(e,t){return r.a.createElement(y.d,{expandable:!0,key:t,onClick:function(){a.setState({category_selected:e}),a.setState({activePanel:"categoryavd",history:[].concat(Object(h.a)(a.state.history),["categoryavd"])})}},e)})),0===a.category.length&&r.a.createElement(y.d,{style:{userSelect:"none"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))))},K=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,{left:r.a.createElement(y.l,{onClick:function(){return a.goBack()}},Object(y.z)()===y.m?r.a.createElement(O.a,null):r.a.createElement(x.a,null))},a.state.category_selected),r.a.createElement(y.k,null,r.a.createElement(y.p,null,a.recipes.length>0&&a.recipes.map((function(e,t){if(e.category===a.state.category_selected)return r.a.createElement(y.d,{expandable:!0,key:t,onClick:function(){return a.GetRecipesInfo(e.id)}},e.name)})))))},q=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,{left:r.a.createElement(y.l,{onClick:function(){return a.goBack()}},Object(y.z)()===y.m?r.a.createElement(O.a,null):r.a.createElement(x.a,null))},a.state.recipes_info_full.information.name),r.a.createElement(y.k,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},r.a.createElement(y.p,null,"0"===a.state.recipes_info_full.information.time_for_preparing?null:r.a.createElement(y.d,{style:{userSelect:"none"},before:r.a.createElement(L.a,{fill:"#4bb34b"}),indicator:a.state.recipes_info_full.information.time_for_preparing},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"))),r.a.createElement(y.k,{title:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b:"},r.a.createElement(y.g,null,r.a.createElement("div",{style:{whiteSpace:"pre-wrap",userSelect:"none"}},a.state.recipes_info_full.information.ingredients))),r.a.createElement(y.k,{title:"\u0420\u0435\u0446\u0435\u043f\u0442:"},r.a.createElement(y.g,null,r.a.createElement("div",{style:{whiteSpace:"pre-wrap",userSelect:"none"}},a.state.recipes_info_full.information.recipe))))},F=a(50),N=a.n(F),U=a(51),M=a.n(U),J=a(24),H=a.n(J),Z=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,null,"\u041e \u043d\u0430\u0441"),r.a.createElement(y.k,null,r.a.createElement(y.g,{style:{marginTop:"-20px",marginBottom:"-20px"}},r.a.createElement(y.e,{style:{userSelect:"none"},before:r.a.createElement(N.a,null),component:"a",target:"_blank",href:"https://vk.com/xelenestudio"},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"))),r.a.createElement(y.k,null,r.a.createElement(y.p,null,r.a.createElement(y.g,{style:{marginTop:"-20px",marginBottom:"-20px"}},r.a.createElement(y.d,{before:r.a.createElement(y.b,{style:{background:"var(--accent)",userSelect:"none"},size:28},r.a.createElement(M.a,{fill:"var(--white)"})),description:"\u0412\u0435\u0440\u0441\u0438\u044f 20.0"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")))),r.a.createElement(y.k,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},r.a.createElement(y.g,{style:{marginTop:"-20px",marginBottom:"-20px"}},"space_gray"===a.state.sheme?r.a.createElement(y.d,{before:r.a.createElement(H.a,null),asideContent:r.a.createElement(y.u,{defaultChecked:!0,onChange:function(){return a.UpdateTheme()}})},"\u0422\u0451\u043c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"):null,"client_dark"===a.state.sheme?r.a.createElement(y.d,{before:r.a.createElement(H.a,null),asideContent:r.a.createElement(y.u,{defaultChecked:!0,onChange:function(){return a.UpdateTheme()}})},"\u0422\u0451\u043c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"):null,"client_light"===a.state.sheme?r.a.createElement(y.d,{before:r.a.createElement(H.a,null),asideContent:r.a.createElement(y.u,{onChange:function(){return a.UpdateTheme()}})},"\u0422\u0451\u043c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"):null,"bright_light"===a.state.sheme?r.a.createElement(y.d,{before:r.a.createElement(H.a,null),asideContent:r.a.createElement(y.u,{onChange:function(){return a.UpdateTheme()}})},"\u0422\u0451\u043c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"):null,""===a.state.sheme?r.a.createElement(y.d,{before:r.a.createElement(H.a,null),asideContent:r.a.createElement(y.u,{disabled:!0,onChange:function(){return a.UpdateTheme()}})},"\u0422\u0451\u043c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"):null,console.log(a.state.sheme))))},Q=a(52),X=a.n(Q),Y=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,null,"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),r.a.createElement(y.k,{title:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0440\u0435\u0446\u0435\u043f\u0442"},r.a.createElement(y.d,{size:"l",description:"",before:r.a.createElement(y.b,{src:"https://media.lpgenerator.ru/uploads/2017/10/17/1.png"}),bottomContent:r.a.createElement(y.c,{before:r.a.createElement(w.a,null),onClick:function(){return a.setState({activePanel:"add_recipe",history:[].concat(Object(h.a)(a.state.history),["add_recipe"])})}},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c")},"\u0421\u043a\u043e\u0440\u0435\u0435 \u0436\u043c\u0438 \u043a\u043d\u043e\u043f\u043a\u0443!")),a.state.suggested.length>0&&r.a.createElement(y.k,{title:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u044b"},a.state.suggested.length>0&&a.state.suggested.map((function(e,t){var n=0===e.status?"https://xelene.me/images/status273.png":1===e.status?"https://xelene.me/images/status2.png":2===e.status?"https://xelene.me/images/status3.png":"\u0433\u0440\u0430\u0434\u0438\u0435\u043d\u0442";return r.a.createElement(y.d,{onClick:function(){return a.setState({activePanel:"recipe_suggest",history:[].concat(Object(h.a)(a.state.history),["recipe_suggest"]),recipes_info_full:{information:{time_for_preparing:e.time_for_preparing,ingredients:e.ingredients,recipe:e.recipe,name:e.name}}})},key:t,size:"l",expandable:!0,description:"\u0421\u0442\u0430\u0442\u0443\u0441: "+["\u041d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0438","\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d","\u041e\u0442\u043a\u043b\u043e\u043d\u0451\u043d"][e.status],before:r.a.createElement(y.b,{size:32,src:n})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.name)}))),a.state.suggested.length>0&&r.a.createElement(y.k,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},r.a.createElement(y.g,null,"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c?",r.a.createElement("br",null),"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043d\u0435 \u0442\u043e\u0442 \u0440\u0435\u0446\u0435\u043f\u0442?",r.a.createElement("br",null),"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u043c! ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.c,{component:"a",target:"_blank",href:"https://vk.com/im?media=&sel=-183054783",before:r.a.createElement(X.a,null)},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"))))},$=function(e){var t=e.id,a=e.this;return r.a.createElement(y.q,{id:t},r.a.createElement(y.r,{left:r.a.createElement(y.l,{onClick:function(){return a.goBack()}},Object(y.z)()===y.m?r.a.createElement(O.a,null):r.a.createElement(x.a,null))},""===a.state.add_name?"\u0411\u0443\u043b\u043e\u0447\u043a\u0430":a.state.add_name),r.a.createElement(y.i,null,r.a.createElement(y.j,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(y.n,{maxLength:"30",placeholder:"\u0411\u0443\u043b\u043e\u0447\u043a\u0430",value:a.state.add_name,onChange:a.onChangeRezeptAddName})),r.a.createElement(y.j,{top:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},r.a.createElement(y.n,{maxLength:"50",placeholder:"\u0412\u044b\u043f\u0435\u0447\u043a\u0430",value:a.state.add_category,onChange:a.onChangeRezeptAddCategory})),r.a.createElement(y.j,{top:"\u0412\u0430\u0448 \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c"},r.a.createElement(y.n,{maxLength:"30",placeholder:"\u0413\u0435\u0440\u0446\u0435\u043b\u0438\u0443\u0441",value:a.state.add_author_name,onChange:a.onChangeRezeptAddAuthorName})),r.a.createElement(y.j,{top:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f"},r.a.createElement(y.n,{maxLength:"30",placeholder:"30 \u043c\u0438\u043d\u0443\u0442",value:a.state.add_time_for_preparing,onChange:a.onChangeRezeptAddTime})),r.a.createElement(y.j,{maxLength:"10000",top:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"},r.a.createElement(y.x,{placeholder:"\u2022 \u041c\u043e\u043b\u043e\u043a\u043e 1\u043b \u0438 \u0442.\u0434.",value:a.state.add_ingredients,onChange:a.onChangeRezeptAddIngred})),r.a.createElement(y.j,{maxLength:"10000",top:"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435"},r.a.createElement(y.x,{placeholder:"1) \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0433\u043e\u043d\u044c. 2) \u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043f\u043b\u0438\u0442\u0443.",value:a.state.add_recipe,onChange:a.onChangeRezeptAddRecipe})),r.a.createElement(y.c,{size:"xl",level:"secondary",onClick:a.SuggestRecipe},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))},ee=(a(29),a(53)),te=a.n(ee),ae=a(54),ne=a.n(ae),re=a(55),ie=a.n(re),le=a(111).parse(window.location.hash),ce=[],oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).goBack=function(){var e=Object(h.a)(a.state.history);e.pop();var t=e[e.length-1];"home"===t&&o.a.send("VKWebAppDisableSwipeBack"),a.setState({history:e,activePanel:t})},a.goForward=function(e){var t=Object(h.a)(a.state.history);t.push(e),"home"===a.state.activePanel&&o.a.send("VKWebAppEnableSwipeBack"),a.setState({history:t,activePanel:e})},a.state={activePanel:"home",activeStory:"home",popout:r.a.createElement(y.s,null),sheme:"",api_url:"https://api.xelene.me/recipes/?",recipes:[],suggested:[],search:"",add_category:"",add_author_name:"",error_moderation:"",add_time_for_preparing:"",add_ingredients:"",add_recipe:"",search_category:"",add_name:"",recipes_info_full:{information:{}},category:[],category_selected:"",tema:null,history:["home"],debug:!1,subscriber:!0},a.onChangeRezeptAddName=a.onChangeRezeptAddName.bind(Object(E.a)(a)),a.onChangeRezeptAddCategory=a.onChangeRezeptAddCategory.bind(Object(E.a)(a)),a.onChangeRezeptAddAuthorName=a.onChangeRezeptAddAuthorName.bind(Object(E.a)(a)),a.onChangeRezeptAddTime=a.onChangeRezeptAddTime.bind(Object(E.a)(a)),a.onChangeRezeptAddIngred=a.onChangeRezeptAddIngred.bind(Object(E.a)(a)),a.onChangeRezeptAddRecipe=a.onChangeRezeptAddRecipe.bind(Object(E.a)(a)),a.Share=a.Share.bind(Object(E.a)(a)),a.closePopout=a.closePopout.bind(Object(E.a)(a)),a.onChange=a.onChange.bind(Object(E.a)(a)),a.onChangeCategory=a.onChangeCategory.bind(Object(E.a)(a)),a.SuggestRecipe=a.SuggestRecipe.bind(Object(E.a)(a)),a.onStoryChange=a.onStoryChange.bind(Object(E.a)(a)),a}return Object(_.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;window.addEventListener("popstate",(function(e){ce.length>0&&t.goToBack(ce[ce.length-1])}),!1),void 0===le.recipe?fetch(this.state.api_url+window.location.search.replace("?","")).then((function(e){return e.json()})).then((function(t){t.response?(e.setState({activePanel:"home",popout:null}),e.GetRecipes()):e.setState({popout:r.a.createElement(y.a,{actions:[{title:"\u0412\u0437\u043b\u043e\u043c\u0430\u0442\u044c \u0414\u0443\u0440\u043e\u0432\u0430",autoclose:!0,style:"default"}],onClose:e.closePopout},r.a.createElement("h2",null,"\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d!"),r.a.createElement("p",null,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c."))})})).catch(function(){var t=Object(p.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({activePanel:"failed-loading",popout:null});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):(fetch(this.state.api_url+window.location.search.replace("?","")).then((function(e){return e.json()})).then((function(t){t.response?e.GetRecipes():e.setState({popout:r.a.createElement(y.a,{actions:[{title:"\u0412\u0437\u043b\u043e\u043c\u0430\u0442\u044c \u0414\u0443\u0440\u043e\u0432\u0430",autoclose:!0,style:"default"}],onClose:e.closePopout},r.a.createElement("h2",null,"\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d!"),r.a.createElement("p",null,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c."))})})).catch(function(){var t=Object(p.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({activePanel:"failed-loading",popout:null});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.GetRecipesInfo(le.recipe)),o.a.subscribe((function(t){var a=t.detail,n=a.type,r=a.data;if("VKWebAppUpdateConfig"===n){var i=document.createAttribute("scheme");i.value=r.scheme?r.scheme:"client_light",document.body.attributes.setNamedItem(i),e.setState({sheme:r.scheme}),"space_gray"===r.scheme?o.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"}):o.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"})}}))}},{key:"closePopout",value:function(){this.setState({popout:null})}},{key:"onChange",value:function(e){this.setState({search:e.target.value})}},{key:"onChangeCategory",value:function(e){this.setState({search_category:e})}},{key:"onChangeRezeptAddName",value:function(e){this.setState({add_name:e.target.value})}},{key:"onChangeRezeptAddCategory",value:function(e){this.setState({add_category:e.target.value})}},{key:"onChangeRezeptAddAuthorName",value:function(e){this.setState({add_author_name:e.target.value})}},{key:"onChangeRezeptAddTime",value:function(e){this.setState({add_time_for_preparing:e.target.value})}},{key:"onChangeRezeptAddIngred",value:function(e){this.setState({add_ingredients:e.target.value})}},{key:"onChangeRezeptAddRecipe",value:function(e){this.setState({add_recipe:e.target.value})}},{key:"GetRecipesInfo",value:function(e){var t=this;this.setState({popout:r.a.createElement(y.s,null)}),fetch(this.state.api_url+"method=get.recipes&id="+e+"&"+window.location.search.replace("?","")).then((function(e){return e.json()})).then((function(e){e.response&&t.setState({recipes_info_full:e.response,popout:null,activePanel:"recipe_info",history:[].concat(Object(h.a)(t.state.history),["recipe_info"])})})).catch(function(){var e=Object(p.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({activePanel:"failed-loading",popout:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"GetRecipes",value:function(){var e=this;this.setState({popout:r.a.createElement(y.s,null)}),fetch(this.state.api_url+"&method=is.member&"+window.location.search.replace("?","")).then((function(e){return e.json()})).then((function(t){e.setState({subscriber:t.response})})).catch((function(t){e.setState({activePanel:"failed-loading",popout:null})})),fetch(this.state.api_url+"method=get.recipes&"+window.location.search.replace("?","")).then((function(e){return e.json()})).then((function(t){e.setState({recipes:t.response}),e.setState({popout:null});for(var a=[],n=0;n<t.response.length;n++)-1===a.indexOf(t.response[n].category)&&a.push(t.response[n].category);e.setState({category:a})})).catch(function(){var t=Object(p.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({activePanel:"failed-loading",popout:null});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"GetSuggested",value:function(){var e=this;this.setState({popout:r.a.createElement(y.s,null)}),fetch(this.state.api_url+"method=get.suggested&"+window.location.search.replace("?","")).then((function(e){return e.json()})).then((function(t){e.setState({suggested:t.response.items}),e.setState({popout:null})})).catch(function(){var t=Object(p.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({error:"",popout:null});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"UpdateTheme",value:function(){"bright_light"===this.state.sheme?(this.setState({sheme:"space_gray"}),document.body.setAttribute("scheme","space_gray"),o.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"})):"space_gray"===this.state.sheme?(this.setState({sheme:"bright_light"}),document.body.setAttribute("scheme","bright_light"),o.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"})):"client_light"===this.state.sheme?(this.setState({sheme:"space_gray"}),document.body.setAttribute("scheme","space_gray"),o.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"})):"client_dark"===this.state.sheme&&(this.setState({sheme:"bright_light"}),document.body.setAttribute("scheme","bright_light"),o.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"}))}},{key:"SuggestRecipe",value:function(){var e=this,t={name:this.state.add_name,category:this.state.add_category,author_name:this.state.add_author_name,time_for_preparing:this.state.add_time_for_preparing,ingredients:this.state.add_ingredients,recipe:this.state.add_recipe},a="&";Object.keys(t).forEach((function(e){a+=e+"="+t[e]+"&"})),this.setState({popout:r.a.createElement(y.s,null)}),fetch(this.state.api_url+"method=send.receipt&"+window.location.search.replace("?","")+a).then((function(e){return e.json()})).then((function(t){t.response?(e.setState({add_name:"",add_category:"",add_author_name:"",add_time_for_preparing:"",add_ingredients:"",add_recipe:"",popout:null}),e.GetSuggested(),e.goBack()):e.setState({popout:r.a.createElement(y.a,{actions:[{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",autoclose:!0,style:"default"}],onClose:e.closePopout},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement("p",null,t.error.message))})}))}},{key:"Subscribe",value:function(){this.setState({subscriber:!0}),o.a.send("VKWebAppJoinGroup",{group_id:183054783})}},{key:"Share",value:function(){o.a.send("VKWebAppShowWallPostBox",{message:"\u041d\u0430\u0448\u0435\u043b \u0440\u0435\u0446\u0435\u043f\u0442 "+this.state.recipes_info_full.name+"\n\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b:\n "+this.state.recipes_info_full.information.ingredients+"\n\u0421\u0430\u043c \u0440\u0435\u0446\u0435\u043f\u0442: \n"+this.state.recipes_info_full.information.recipe+"\n\n\u0417\u0430\u0433\u043b\u044f\u043d\u0443\u0442\u044c \u0432 \u0440\u0435\u0446\u0435\u043f\u0442 - https://vk.com/app7022864#recipe="+this.state.recipes_info_full.id})}},{key:"onStoryChange",value:function(e){"add"===e.currentTarget.dataset.story?(this.GetSuggested(),this.setState({history:["add"]})):"home"===e.currentTarget.dataset.story&&this.setState({history:["home"]}),this.setState({activeStory:e.currentTarget.dataset.story,activePanel:e.currentTarget.dataset.story}),window.scrollTo(0,0)}},{key:"render",value:function(){return r.a.createElement(y.f,{isWebView:!0},r.a.createElement(y.h,{activeStory:this.state.activeStory,tabbar:"recipe_info"!==this.state.activePanel&&"recipe_suggest"!==this.state.activePanel&&r.a.createElement(y.v,null,r.a.createElement(y.w,{onClick:this.onStoryChange,selected:"home"===this.state.activeStory,"data-story":"home",text:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"},r.a.createElement(ne.a,null)),r.a.createElement(y.w,{onClick:this.onStoryChange,selected:"add"===this.state.activeStory,"data-story":"add",text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"},r.a.createElement(te.a,null)),r.a.createElement(y.w,{onClick:this.onStoryChange,selected:"info"===this.state.activeStory,"data-story":"info",text:"\u041e \u043d\u0430\u0441"},r.a.createElement(ie.a,null)))},r.a.createElement(y.y,{id:"home",activeStory:this.state.activeStory,activePanel:this.state.activePanel,onSwipeBack:this.goBack,popout:this.state.popout,history:this.state.history},r.a.createElement(j,{id:"home",this:this}),r.a.createElement(I,{id:"category",this:this}),r.a.createElement(K,{id:"categoryavd",this:this}),r.a.createElement(G,{id:"recipe_info",this:this})),r.a.createElement(y.y,{id:"add",activeStory:this.state.activeStory,activePanel:this.state.activePanel,onSwipeBack:this.goBack,popout:this.state.popout,history:this.state.history},r.a.createElement(Y,{id:"add",this:this}),r.a.createElement(q,{id:"recipe_suggest",this:this}),r.a.createElement($,{id:"add_recipe",this:this})),r.a.createElement(y.y,{id:"info",activeStory:this.state.activeStory,activePanel:"info"},r.a.createElement(Z,{id:"info",this:this}))))}},{key:"recipes",get:function(){var e=this.state.search.toLowerCase();return this.state.recipes.filter((function(t){return t.name.toLowerCase().indexOf(e)>-1}))}},{key:"category",get:function(){var e=this.state.search_category.toLowerCase();return this.state.category.filter((function(t){return t.toLowerCase().indexOf(e)>-1}))}}]),t}(r.a.Component),se=a(56),ue=a.n(se);o.a.send("VKWebAppInit",{});var pe=document.getElementById("root");Object(y.z)()===y.m&&ue()(pe),l.a.render(r.a.createElement(oe,null),pe)},97:function(e,t,a){e.exports=a(113)}},[[97,1,2]]]);
//# sourceMappingURL=main.80bc8b00.chunk.js.map